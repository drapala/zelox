# REPO_MAP.md - Repository Navigation Guide

**Generated:** 2025-09-01  
**Purpose:** LLM-first navigation and context discovery

## Repository Structure

```
zelox/
├── docs/                    # Documentation & decisions
│   ├── adr/                # Architecture Decision Records
│   └── repo/               # Repository metadata
├── features/               # Vertical feature slices (VSA)
├── shared/                 # Truly shared utilities only
└── scripts/                # LLM-first tooling
```

## Quick Navigation

### For Feature Development
1. **Start here:** `features/[feature_name]/README.md`
2. **Business logic:** `features/[feature_name]/service.py`
3. **Tests:** `features/[feature_name]/tests.py`
4. **API:** `features/[feature_name]/api.py`

### For Architecture Changes
1. **Decisions:** `docs/adr/`
2. **Patterns:** `CLAUDE.md`
3. **Current state:** `docs/repo/FACTS.md`

### For LLM Agents
1. **Entry point:** This file (REPO_MAP.md)
2. **Module index:** `docs/repo/INDEX.yaml`
3. **Recovery patterns:** `docs/repo/recovery_patterns.yaml`

## Current Features

### Template
- **Path:** `features/template/`
- **Capabilities:** Api, Tests, Business Logic
- **Lines of Code:** 1,953
- **Files:** 8 modules


## LLM-First Tooling

- **`.drift_check_config.yaml`**: Utility script
- **`ADR-LITE-001-semantic-refactor.md`**: Utility script
- **`INDEX.yaml`**: Utility script
- **`INDEX.yaml`**: Utility script
- **`INDEX.yaml`**: Utility script
- **`README.md`**: Utility script
- **`README.md`**: Utility script
- **`README.md`**: Utility script
- **`README.md`**: Utility script
- **`README.md`**: Utility script
- **`__init__.py`**: Modular drift detection for controlled duplication
- **`__init__.py`**: Utility script
- **`__init__.py`**: Modular adaptive learning system for LLM architecture improvements
- **`__init__.py`**: Analyze codebase for confusion metrics and hotspots
- **`__init__.py`**: Utility script
- **`__init__.py`**: Utility script
- **`__init__.py`**: Modular components for repository structure analysis and documentation
- **`__init__.py`**: Utility script
- **`__init__.py`**: Utility script
- **`adaptation_engine.py`**: Generate and prioritize architectural improvements based on patterns
- **`adaptive_learner.py`**: Learn from telemetry patterns to suggest architectural improvements
- **`block_finder.py`**: Find and extract DUPLICATED_BLOCK markers from files
- **`builder.py`**: Fluent interface for building repository maps with composable operations
- **`check_llm_readiness.py`**: Utility script
- **`check_pr_loc.py`**: Enforce categorized size limits on PRs
- **`check_readme_coverage.py`**: Utility script
- **`cognitive_metrics.py`**: Utility script
- **`complexity_analyzer.py`**: Measure code complexity metrics
- **`config.yaml`**: Utility script
- **`confusion_report.py`**: Orchestrate confusion analysis pipeline
- **`confusion_reporter.py`**: Generate confusion analysis reports
- **`confusion_scorer.py`**: Calculate confusion scores from metrics
- **`documentation_metrics.py`**: Utility script
- **`domain_analyzer.py`**: Extract ubiquitous language and detect bounded context violations
- **`domain_analyzer_refactored.py`**: Orchestrate domain analysis using modular components
- **`domain_mapper.py`**: Map and aggregate domain information across repository
- **`domain_models.py`**: Extract domain entities and concepts from code
- **`domain_reporter.py`**: Generate domain analysis reports and CLI interface
- **`domain_rules.py`**: Analyze business rules and detect bounded context violations
- **`drift_calculator.py`**: Calculate drift between duplicate blocks
- **`drift_check.py`**: Coordinate drift detection using modular components
- **`drift_reporter.py`**: Generate clear drift reports in various formats
- **`file_categorizer.py`**: Categorize files based on patterns
- **`file_scanner.py`**: Scan repository files with configurable filters and metadata extraction
- **`gen_repo_map.py`**: CLI entry point for repository map generation using modular components
- **`hotspot_detector.py`**: Find confusion hotspots in codebase
- **`learning_reporter.py`**: Generate reports and insights from learning system
- **`loc_counter.py`**: Count lines of code in PR changes
- **`map_builder.py`**: Build structured repository map from scanned files
- **`map_formatter.py`**: Format repository map into various output formats
- **`map_writer.py`**: Write repository maps to various outputs with versioning
- **`metric_tracker.py`**: Track and aggregate learning system metrics
- **`pattern_learner.py`**: Learn successful architectural patterns from telemetry data
- **`pr_reporter.py`**: Generate clear reports for PR validation results
- **`pr_validator.py`**: Validate PR changes against configured limits
- **`readiness_calculator.py`**: Utility script
- **`readiness_metrics.py`**: Utility script
- **`readiness_reporter.py`**: Utility script
- **`readiness_validator.py`**: Utility script
- **`schema_loader.py`**: Load and parse JSON schemas with reference resolution
- **`schema_reporter.py`**: Format and output validation results
- **`schema_rules.py`**: Specific validation rules for different file types
- **`schema_validator.py`**: Core validation logic for schema compliance
- **`semantic_analyzer.py`**: Backward-compatible wrapper for new modular semantic analysis pipeline
- **`semantic_analyzer_refactored.py`**: Orchestrate semantic analysis using modular components
- **`semantic_extractor.py`**: Extract semantic patterns and dependencies from parsed data
- **`semantic_parser.py`**: Parse Python files and extract semantic elements
- **`semantic_pipeline.py`**: Orchestrate semantic analysis pipeline stages
- **`semantic_reporter.py`**: Generate reports from semantic analysis scores
- **`semantic_scorer.py`**: Score semantic quality and complexity metrics
- **`telemetry_collector.py`**: Track LLM agent interactions and edit success patterns
- **`validate_schemas.py`**: Orchestrate schema validation using modular components
- **`validate_schemas_refactored.py`**: Orchestrate schema validation using modular components
- **`verify_refactoring.py`**: Utility script
- **`wiring.py`**: Wire together learning system components


## Architecture Decisions

| ADR | Title | Status | Path |
|-----|-------|--------|------|
| 000 | Template | accepted | [View](../adr/000-template.md) |
| 001 | Adopt Llm First Architecture | accepted | [View](../adr/001-adopt-llm-first-architecture.md) |
| 001 | Domain Analyzer Refactoring | accepted | [View](../adr/ADR-001-domain-analyzer-refactoring.md) |
| 002 | Validate Schemas Refactoring | accepted | [View](../adr/ADR-002-validate-schemas-refactoring.md) |
| 002 | Adopt Bdd Lite | accepted | [View](../adr/002-adopt-bdd-lite.md) |
| 003 | Semantic Analyzer Refactoring | accepted | [View](../adr/ADR-003-semantic-analyzer-refactoring.md) |
| 003 | Pr Loc Gate | accepted | [View](../adr/003-pr-loc-gate.md) |
| 004 | Llm First Observability | accepted | [View](../adr/004-llm-first-observability.md) |
| 005 | Branch Naming And Pr Standards | accepted | [View](../adr/005-branch-naming-and-pr-standards.md) |
| 006 | Differentiated Loc Limits | accepted | [View](../adr/006-differentiated-loc-limits.md) |
| 007 | Domain Analyzer Vsa Refactoring | accepted | [View](../adr/007-domain-analyzer-vsa-refactoring.md) |
| 007 | Repo Map Modularization | accepted | [View](../adr/007-repo-map-modularization.md) |
| 007 | Readiness Check Refactoring | accepted | [View](../adr/ADR-007-readiness-check-refactoring.md) |
| 012 | Drift Check Modularization | accepted | [View](../adr/ADR-012-drift-check-modularization.md) |
| 015 | Schema Validation Vertical Slice | accepted | [View](../adr/ADR-015-schema-validation-vertical-slice.md) |


## Common Tasks

### Adding a New Feature
1. `mkdir features/[feature_name]`
2. Copy template from `features/template/`
3. Update `docs/repo/INDEX.yaml`
4. Run `make llm.check`

### Making Changes
1. Check `features/[feature]/README.md` first
2. Look for BDD-Lite scenarios in tests
3. Update `OBS_PLAN.md` if changing APIs
4. Run `make pr.loc` before committing

## Last Updated
- **Auto-generated:** 2025-09-01
- **Script:** `scripts/gen_repo_map.py`
- **Next review:** When repository structure changes significantly
